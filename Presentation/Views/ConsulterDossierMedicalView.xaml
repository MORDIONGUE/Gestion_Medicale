<Window x:Class="A_C.Presentation.Views.ConsulterDossierMedicalView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Consulter Dossier Médical" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <TabControl>
            <!-- Onglet Fiche Patient -->
            <TabItem Header="Fiche Patient">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Informations du Patient" 
                                 FontSize="24" 
                                 FontWeight="Bold" 
                                 Margin="0,0,0,20"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="Identifiant :" 
                                     FontWeight="Bold" 
                                     Margin="0,5,10,5"/>
                            <TextBlock Grid.Column="1" 
                                     Text="{Binding Patient.Id}" 
                                     Margin="0,5"/>

                            <TextBlock Grid.Row="1" 
                                     Text="Nom :" 
                                     FontWeight="Bold" 
                                     Margin="0,5,10,5"/>
                            <TextBlock Grid.Row="1" 
                                     Grid.Column="1" 
                                     Text="{Binding Patient.Nom}" 
                                     Margin="0,5"/>

                            <TextBlock Grid.Row="2" 
                                     Text="Date de Naissance :" 
                                     FontWeight="Bold" 
                                     Margin="0,5,10,5"/>
                            <TextBlock Grid.Row="2" 
                                     Grid.Column="1" 
                                     Text="{Binding Patient.DateNaissance}" 
                                     Margin="0,5"/>

                            <TextBlock Grid.Row="3" 
                                     Text="Adresse :" 
                                     FontWeight="Bold" 
                                     Margin="0,5,10,5"/>
                            <TextBlock Grid.Row="3" 
                                     Grid.Column="1" 
                                     Text="{Binding Patient.Adresse}" 
                                     Margin="0,5"
                                     TextWrapping="Wrap"/>

                            <TextBlock Grid.Row="4" 
                                     Text="Téléphone :" 
                                     FontWeight="Bold" 
                                     Margin="0,5,10,5"/>
                            <TextBlock Grid.Row="4" 
                                     Grid.Column="1" 
                                     Text="{Binding Patient.Telephone}" 
                                     Margin="0,5"/>

                            <TextBlock Grid.Row="5" 
                                     Text="Courriel :" 
                                     FontWeight="Bold" 
                                     Margin="0,5,10,5"/>
                            <TextBlock Grid.Row="5" 
                                     Grid.Column="1" 
                                     Text="{Binding Patient.Courriel}" 
                                     Margin="0,5"/>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Onglet Consultations -->
            <TabItem Header="Consultations">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Historique des Consultations" 
                             FontSize="24" 
                             FontWeight="Bold" 
                             Margin="0,0,0,20"/>

                    <ListView Grid.Row="1" 
                             ItemsSource="{Binding Patient.Consultations}"
                             BorderBrush="Gray" 
                             BorderThickness="1">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Date" 
                                              DisplayMemberBinding="{Binding Date, StringFormat=dd/MM/yyyy}" 
                                              Width="120"/>
                                <GridViewColumn Header="Motif" 
                                              DisplayMemberBinding="{Binding Motif}" 
                                              Width="200"/>
                                <GridViewColumn Header="Observation" 
                                              DisplayMemberBinding="{Binding Observation}" 
                                              Width="200"/>
                                <GridViewColumn Header="Diagnostic" 
                                              DisplayMemberBinding="{Binding Diagnostic}" 
                                              Width="200"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>

            <!-- Onglet Prescriptions -->
            <TabItem Header="Prescriptions">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Historique des Prescriptions" 
                             FontSize="24" 
                             FontWeight="Bold" 
                             Margin="0,0,0,20"/>

                    <ListView Grid.Row="1" 
                             ItemsSource="{Binding Patient.Prescriptions}"
                             BorderBrush="Gray" 
                             BorderThickness="1">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Date" 
                                              DisplayMemberBinding="{Binding Date, StringFormat=dd/MM/yyyy}" 
                                              Width="120"/>
                                <GridViewColumn Header="Médicament" 
                                              DisplayMemberBinding="{Binding Medicament}" 
                                              Width="200"/>
                                <GridViewColumn Header="Dosage" 
                                              DisplayMemberBinding="{Binding Dosage}" 
                                              Width="150"/>
                                <GridViewColumn Header="Instructions" 
                                              DisplayMemberBinding="{Binding Instructions}" 
                                              Width="200"/>
                                <GridViewColumn Header="État" 
                                              DisplayMemberBinding="{Binding Etat}" 
                                              Width="100"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window> 